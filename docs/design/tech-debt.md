# 技术债清单

> 记录已知的技术债务，便于后续规划和处理。

## 状态说明

| 状态      | 含义                           |
| --------- | ------------------------------ |
| 🔴 待处理 | 需要尽快解决                   |
| 🟡 已规划 | 已纳入迭代计划                 |
| 🟢 已解决 | 已完成，待归档                 |
| ⚪ 暂缓   | 当前优先级低，条件成熟时再处理 |

---

## 基础设施

### 1. 链路追踪（OpenTelemetry）

| 项目           | 内容                                                                                                                            |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| **状态**       | ⚪ 暂缓                                                                                                                         |
| **优先级**     | P3                                                                                                                              |
| **描述**       | 当前使用 Pino + requestId 进行日志关联，满足单体应用需求。未来若引入微服务或分布式架构，需要引入 OpenTelemetry 实现全链路追踪。 |
| **触发条件**   | 1. 引入微服务架构 2. 需要跨服务调用链追踪 3. 需要 APM 监控                                                                      |
| **实施方案**   | 1. 安装 `@opentelemetry/sdk-node` 2. 配置 auto-instrumentation 3. 接入 Jaeger/Zipkin/云厂商 APM                                 |
| **预估工作量** | 2-3 人天                                                                                                                        |
| **记录日期**   | 2025-12-30                                                                                                                      |

---

## 类型系统

### 2. shared-types 与 Orval 类型边界

| 项目         | 内容                                                             |
| ------------ | ---------------------------------------------------------------- |
| **状态**     | 🟢 已解决                                                        |
| **优先级**   | P2                                                               |
| **描述**     | shared-types 中的类型可能与 Orval 生成的类型重复，需要明确边界。 |
| **解决方案** | 已在 shared-types/src/index.ts 中添加注释说明类型分类和维护规则  |
| **完成日期** | 2025-12-30                                                       |

---

## 归档

_已解决的技术债将在下一次清理时移入此处_

---

**最后更新**: 2025-12-30

# ADR-001: Monorepo 结构

## 状态

Accepted

## 背景

项目需要支持多个应用（后端、管理后台、H5、小程序），需要选择合适的代码组织方式。

## 决策

采用 pnpm workspace + Turborepo 的 Monorepo 结构。

## 理由

1. **代码复用**: 共享类型、工具函数可以提取到 packages
2. **统一管理**: 一个仓库管理所有应用，简化版本控制
3. **原子提交**: 跨应用的变更可以在一个提交中完成
4. **依赖管理**: pnpm 高效的依赖管理，减少磁盘占用
5. **构建优化**: Turborepo 提供增量构建和缓存

## 后果

### 优点

- 简化跨应用重构
- 共享配置和工具
- 统一的 CI/CD 流程

### 缺点

- 仓库体积较大
- 需要学习 Monorepo 工具链
- 权限管理相对复杂

# 服务端环境配置
# 复制此文件为 .env 并填入实际配置

# ==================== 服务配置 ====================
APP_ENV=dev
NODE_ENV=development
PORT=17000
BODY_LIMIT=1mb

# ==================== 数据库 ====================
# 开发环境默认配置，生产环境请使用强密码
DATABASE_URL=postgresql://monorepo-skeleton:monorepo-skeletonDev_ChangeThisPassword@localhost:17010/monorepo-skeleton_dev

# ==================== Redis ====================
REDIS_URL=redis://:monorepo-skeletonRedisDev_ChangeThisPassword@localhost:17011/0

# ==================== JWT ====================
# 开发环境使用固定密钥，生产环境请使用 openssl rand -base64 64 生成
JWT_ACCESS_SECRET=dev-access-secret-change-in-production
JWT_REFRESH_SECRET=dev-refresh-secret-change-in-production
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=7d

# ==================== Rate Limiting ====================
RATE_LIMIT_TTL_MS=60000
RATE_LIMIT_MAX=100

# ==================== Idempotency ====================
IDEMPOTENCY_TTL_SECONDS=86400

# ==================== Observability ====================
PRISMA_SLOW_QUERY_MS=500

# ==================== CORS ====================
# 开发环境允许的前端地址
CORS_ORIGINS=http://localhost:17001,http://localhost:17002

# ==================== Permission ====================
PERMISSION_CACHE_TTL=600

# ==================== Config Center ====================
# 生产环境必须提供 CONFIG_ENCRYPTION_KEY（64 位 hex），用于配置中心加密；切勿复用示例值
CONFIG_ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000
CONFIG_CACHE_TTL_SECONDS=3600

# ==================== Script Upload ====================
# 外部脚本上传功能 token（可选；启用时必须 >= 32 字符）
SCRIPT_UPLOAD_TOKEN=dev-script-upload-token-change-in-production

# ==================== WeChat (optional) ====================
# WECHAT_OPEN_APP_ID=
# WECHAT_OPEN_APP_SECRET=
# WECHAT_MP_APP_ID=
# WECHAT_MP_APP_SECRET=
# WECHAT_MINI_APP_ID=
# WECHAT_MINI_APP_SECRET=
# WECHAT_STATE_SECRET=
